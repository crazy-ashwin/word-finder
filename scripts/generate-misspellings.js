const fs = require("fs");
const path = require("path");

const spellingDir = path.join(__dirname, "../src/app/spelling");
const outputFile = path.join(__dirname, "../src/lib/misspellings.ts");

// Get all subdirectories in spellingDir
const folders = fs
	.readdirSync(spellingDir, { withFileTypes: true })
	.filter((dirent) => dirent.isDirectory())
	.map((dirent) => dirent.name)
	.sort();

const fileContent = `// This file is auto-generated by scripts/generate-misspellings.js. Do not edit manually!
export const misspellingFolders = [
${folders.map((f) => `  "${f}",`).join("\n")}
];
`;

fs.writeFileSync(outputFile, fileContent, "utf8");

console.log(`Generated misspellingFolders with ${folders.length} entries.`);
